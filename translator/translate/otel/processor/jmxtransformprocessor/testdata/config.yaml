metric_statements:
  - context: metric
    statements:
      - set(name, "jvm_memory_bytes_used") where name == "jvm.memory.bytes.used"
      - set(name, "jvm_threads_daemon") where name == "jvm.threads.daemon"
      - set(name, "catalina_globalrequestprocessor_bytessent") where name == "tomcat.traffic.sent"
      - set(name, "jvm_classes_loaded") where name == "jvm.classes.loaded"
      - set(name, "java_lang_operatingsystem_freeswapspacesize") where name == "jvm.operating.system.free.swap.space.size"
      - set(name, "java_lang_operatingsystem_availableprocessors") where name == "jvm.operating.system.available.processors"
      - set(name, "catalina_manager_rejectedsessions") where name == "tomcat.rejected_sessions"
      - set(name, "catalina_globalrequestprocessor_bytesreceived") where name == "tomcat.traffic.received"
      - set(name, "catalina_globalrequestprocessor_processingtime") where name == "tomcat.processing_time"
      - set(name, "jvm_memory_pool_bytes_used") where name == "jvm.memory.pool.bytes.used"
      - set(name, "java_lang_operatingsystem_systemcpuload") where name == "jvm.operating.system.system.cpu.load"
      - set(name, "java_lang_operatingsystem_totalphysicalmemorysize") where name == "jvm.operating.system.total.physical.memory.size"
      - set(name, "java_lang_operatingsystem_freephysicalmemorysize") where name == "jvm.operating.system.free.physical.memory.size"
      - set(name, "java_lang_operatingsystem_openfiledescriptorcount") where name == "jvm.operating.system.open.file.descriptor.count"
      - set(name, "jvm_threads_current") where name == "jvm.threads.count"
      - set(name, "catalina_manager_activesessions") where name == "tomcat.sessions"
      - set(name, "java_lang_operatingsystem_totalswapspacesize") where name == "jvm.operating.system.total.swap.space.size"
      - set(name, "java_lang_operatingsystem_processcpuload") where name == "jvm.operating.system.process.cpu.load"
      - set(name, "catalina_globalrequestprocessor_requestcount") where name == "tomcat.request_count"
      - set(name, "catalina_globalrequestprocessor_errorcount") where name == "tomcat.errors"
  - context: datapoint
    statements:
      - keep_keys(attributes, ["ClusterName", "Namespace", "area"]) where metric.name == "jvm_memory_bytes_used"
      - keep_keys(attributes, ["ClusterName", "Namespace"]) where metric.name == "jvm_threads_daemon"
      - keep_keys(attributes, ["ClusterName", "Namespace"]) where metric.name == "catalina_globalrequestprocessor_bytessent"
      - keep_keys(attributes, ["ClusterName", "Namespace"]) where metric.name == "jvm_classes_loaded"
      - keep_keys(attributes, ["ClusterName", "Namespace"]) where metric.name == "java_lang_operatingsystem_freeswapspacesize"
      - keep_keys(attributes, ["ClusterName", "Namespace"]) where metric.name == "java_lang_operatingsystem_availableprocessors"
      - keep_keys(attributes, ["ClusterName", "Namespace"]) where metric.name == "catalina_manager_rejectedsessions"
      - keep_keys(attributes, ["ClusterName", "Namespace"]) where metric.name == "catalina_globalrequestprocessor_bytesreceived"
      - keep_keys(attributes, ["ClusterName", "Namespace"]) where metric.name == "catalina_globalrequestprocessor_processingtime"
      - keep_keys(attributes, ["ClusterName", "Namespace", "pool"]) where metric.name == "jvm_memory_pool_bytes_used"
      - keep_keys(attributes, ["ClusterName", "Namespace"]) where metric.name == "java_lang_operatingsystem_systemcpuload"
      - keep_keys(attributes, ["ClusterName", "Namespace"]) where metric.name == "java_lang_operatingsystem_totalphysicalmemorysize"
      - keep_keys(attributes, ["ClusterName", "Namespace"]) where metric.name == "java_lang_operatingsystem_freephysicalmemorysize"
      - keep_keys(attributes, ["ClusterName", "Namespace"]) where metric.name == "java_lang_operatingsystem_openfiledescriptorcount"
      - keep_keys(attributes, ["ClusterName", "Namespace"]) where metric.name == "jvm_threads_current"
      - keep_keys(attributes, ["ClusterName", "Namespace"]) where metric.name == "catalina_manager_activesessions"
      - keep_keys(attributes, ["ClusterName", "Namespace"]) where metric.name == "java_lang_operatingsystem_totalswapspacesize"
      - keep_keys(attributes, ["ClusterName", "Namespace"]) where metric.name == "java_lang_operatingsystem_processcpuload"
      - keep_keys(attributes, ["ClusterName", "Namespace"]) where metric.name == "catalina_globalrequestprocessor_requestcount"
      - keep_keys(attributes, ["ClusterName", "Namespace"]) where metric.name == "catalina_globalrequestprocessor_errorcount"